function createCookie(e,t,n){if(readCookie(e)!==t){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"}}function readCookie(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function setButtonStatus(e){e===!0?jQuery('button[type="submit"]').removeAttr("disabled"):e===!1?jQuery('button[type="submit"]').attr("disabled","disabled"):readCookie("username")!=""&&readCookie("username")!=undefined?jQuery('button[type="submit"]').removeAttr("disabled"):jQuery('button[type="submit"]').attr("disabled","disabled")}function start_Int(e){if(intval===""){var t=0;intval=window.setInterval(function(){t+=10;jQuery(e).find("img").rotate(t)},25)}else stop_Int()}function stop_Int(e){var t=jQuery(e).find("img"),n=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform")||"FAIL",r=n.split("(")[1].split(")")[0].split(","),i=r[0],s=r[1],o=r[2],u=r[3],a=Math.sqrt(i*i+s*s),f=s/a,l=Math.round(Math.atan2(s,i)*(180/Math.PI));jQuery(e).find("img").rotate({angle:l,animateTo:180});if(intval!==""){window.clearInterval(intval);intval=""}}function removeToggleClass(e,t){jQuery(e).parent().find("."+t).removeClass(t);jQuery(e).toggleClass(t)}function callbackFunktion(e){latitude=e.coords.latitude;longitude=e.coords.longitude;window.lat=parseFloat(latitude);window.lon=parseFloat(longitude)}function openClose(e){jQuery(e).closest(".result").find(".details").slideToggle(200);jQuery(e).closest(".result").toggleClass("active")}function ajaxGeo(e,t,n){if(jQuery(t).get(0).nodeName.toLowerCase()==="input"){jQuery(t).parent().find(":input").val("Wait a second...");jQuery(t).parent().find(":input").css("color","#999");setButtonStatus(!1)}else jQuery(t+" h3").html("Wait a second...");jQuery.ajax({url:"inc/ajax/"+e,type:"POST",data:{lat:lat,lon:lon},success:function(r){if(jQuery(t).get(0).nodeName.toLowerCase()==="input"){jQuery("#from_location").attr("value",r);jQuery("#location-load-btn").parent().find(":input").css("color","");setButtonStatus()}else jQuery(t).html(r);if(e="spotload.php"){jQuery(".results .essentials").click(function(){openClose(this)});jQuery(".results .close").click(function(){openClose(this)})}stop_Int(n)}})}var intval="",lat,lon;jQuery(document).ready(function(){jQuery(".nolink").click(function(e){e.preventDefault()});jQuery("#location-load-btn").click(function(){start_Int("#location-load-btn");navigator.geolocation.getCurrentPosition(function(e){callbackFunktion(e);ajaxGeo("location-load.php","#from_location","#location-load-btn")})});var e=!1,t=!1;jQuery(".current").click(function(){if(t===!1){t=!0;if(e){jQuery(this).parent().parent().parent().find(".other").slideUp(function(){t=!1});e=!1}else{jQuery(this).parent().parent().parent().find(".other").slideDown(function(){t=!1});e=!0}jQuery("#bg-overlay").fadeToggle(500)}});jQuery("#bg-overlay").click(function(){if(t===!1){t=!0;jQuery(this).parent().parent().parent().find(".other").slideUp();jQuery("#bg-overlay").fadeToggle(500,function(){t=!1});e=!1}})});